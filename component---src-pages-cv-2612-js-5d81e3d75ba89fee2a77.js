(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{157:function(t,e,n){"use strict";n.r(e);var s=n(7),i=n.n(s),r=n(0),a=n.n(r),o=n(165),h=n(164),c=n.n(h),l=function(t){function e(){return t.apply(this,arguments)||this}return i()(e,t),e.prototype.render=function(){var t=this.props.children;return a.a.createElement("div",{id:"app"},a.a.createElement("header",null,a.a.createElement(c.a,{bodyAttributes:{class:"dark cv2612"}}),a.a.createElement(o.a,{title:"CV2612"})),a.a.createElement("main",null,t))},e}(a.a.Component),u=n(162),p=(n(35),n(184),n(208),n(79),n(76),n(57),n(40),n(210),n(34),function(t,e){if(9===e[0]&&1===e[1]&&0===e[2]||11===e[0]&&2===e[1]&&1===e[2]){for(var n={"6_4_lfo":0},s=0;s<=6;s++){n[s+"_4_fms"]=e[3],n[s+"_4_fb"]=e[4],n[s+"_4_al"]=e[5],n[s+"_4_ams"]=e[6],n[s+"_4_st"]=3;for(var i=0;i<=4;i++){var r=11*(4===i?0:i)+7;n[s+"_"+i+"_mul"]=e[r+0],n[s+"_"+i+"_tl"]=e[r+1],n[s+"_"+i+"_ar"]=e[r+2],n[s+"_"+i+"_d1"]=e[r+3],n[s+"_"+i+"_sl"]=e[r+4],n[s+"_"+i+"_rr"]=e[r+5],n[s+"_"+i+"_am"]=e[r+6],n[s+"_"+i+"_rs"]=e[r+7],n[s+"_"+i+"_det"]=e[r+8],n[s+"_"+i+"_d2"]=e[r+9]}}return{name:t.replace(".dmp",""),params:n}}return null}),f=function(){for(var t={"6_4_lfo":0},e=0;e<=6;e++){t[e+"_4_fms"]=0,t[e+"_4_fb"]=0,t[e+"_4_al"]=0,t[e+"_4_ams"]=0,t[e+"_4_st"]=3;for(var n=0;n<=4;n++)t[e+"_"+n+"_mul"]=0,t[e+"_"+n+"_tl"]=0,t[e+"_"+n+"_ar"]=0,t[e+"_"+n+"_d1"]=0,t[e+"_"+n+"_sl"]=0,t[e+"_"+n+"_rr"]=0,t[e+"_"+n+"_am"]=0,t[e+"_"+n+"_rs"]=0,t[e+"_"+n+"_det"]=0,t[e+"_"+n+"_d2"]=0}return t},m=function(t){for(var e=1,n=0,s=[["am"],["rs","st","ams"],["det","al","fb","fms","lfo"],["sl","rr","mul"],["ar","d2","d1"],[],["tl"]];n<s.length;n++){if(s[n].some(function(e){return t.endsWith(e)}))return e;e++}return console.log("invalid param",t),0},d=function(){var t=f();for(var e in t)t[e]={cc:null,ch:null,bits:m(e)};return t},_=n(212);n(214);function g(){if(!this instanceof g)return new g;this.version=257,this.start=0,this.count=0,this.chip=null}!function(t){var e={hq_fm:0,dac_bits:8,maxcalc:0,debug:0,debugLocal:0,debugArr:[],mode:0,strict:0},n={FREQ_SH:16,EG_SH:16,LFO_SH:24,TIMER_SH:16};n.FREQ_MASK=(1<<n.FREQ_SH)-1;var s={BITS:10,MIN_ATT_INDEX:0};s.LEN=1<<s.BITS,s.STEP=128/s.LEN,s.MAX_ATT_INDEX=s.LEN-1;var i={ATT:4,DEC:3,SUS:2,REL:1,OFF:0},r={BITS:17};r.LEN=1<<r.BITS,r.MASK=r.LEN-1;var a={BITS:10};a.LEN=1<<a.BITS,a.MASK=a.LEN-1;var o,h,c={BITS:14};c.RES_LEN=256,c.TAB_LEN=26*c.RES_LEN,c.tab=new Array(c.TAB_LEN),s.QUIET=c.TAB_LEN>>3,n.sin=new Array(a.LEN),n.sl=[(o=function(t){return 4*t/s.STEP|0})(0),o(1),o(2),o(3),o(4),o(5),o(6),o(7),o(8),o(9),o(10),o(11),o(12),o(13),o(14),o(31)],i.RATE_STEPS=8,i.inc=[0,1,0,1,0,1,0,1,0,1,0,1,1,1,0,1,0,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,2,1,2,1,2,1,2,1,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,4,2,2,2,4,2,4,2,4,2,4,2,4,2,4,4,4,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,4,4,4,8,4,8,4,8,4,8,4,8,4,8,8,8,4,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,16,16,16,16,0,0,0,0,0,0,0,0],i.rate_select=[(h=function(t){return t*i.RATE_STEPS|0})(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(18),h(0),h(0),h(0),h(0),h(2),h(2),h(0),h(1),h(2),h(3),h(0),h(1),h(2),h(3),h(0),h(1),h(2),h(3),h(0),h(1),h(2),h(3),h(0),h(1),h(2),h(3),h(0),h(1),h(2),h(3),h(0),h(1),h(2),h(3),h(0),h(1),h(2),h(3),h(0),h(1),h(2),h(3),h(0),h(1),h(2),h(3),h(4),h(5),h(6),h(7),h(8),h(9),h(10),h(11),h(12),h(13),h(14),h(15),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16),h(16)],i.rate_shift=function(){var t=function(t){return 0|t};return[t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(11),t(10),t(10),t(10),t(10),t(9),t(9),t(9),t(9),t(8),t(8),t(8),t(8),t(7),t(7),t(7),t(7),t(6),t(6),t(6),t(6),t(5),t(5),t(5),t(5),t(4),t(4),t(4),t(4),t(3),t(3),t(3),t(3),t(2),t(2),t(2),t(2),t(1),t(1),t(1),t(1),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0),t(0)]}(),r.tab=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,3,3,3,4,4,4,5,5,6,6,7,8,8,8,8,1,1,1,1,2,2,2,2,2,3,3,3,4,4,4,5,5,6,6,7,8,8,9,10,11,12,13,14,16,16,16,16,2,2,2,2,2,3,3,3,4,4,4,5,5,6,6,7,8,8,9,10,11,12,13,14,16,17,19,20,22,22,22,22];var l={fktable:[0,0,0,0,0,0,0,1,2,3,3,3,3,3,3,3]},u={samples_per_step:[108,77,71,67,62,44,8,5],ams_depth_shift:[8,3,1,0],pm_output:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1],[0,0,1,1,2,2,2,3],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1],[0,0,0,0,1,1,1,1],[0,0,1,1,2,2,2,3],[0,0,2,3,4,4,5,6],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1],[0,0,0,0,1,1,1,1],[0,0,0,1,1,1,1,2],[0,0,1,1,2,2,2,3],[0,0,2,3,4,4,5,6],[0,0,4,6,8,8,10,12],[0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1],[0,0,0,1,1,1,2,2],[0,0,1,1,2,2,3,3],[0,0,1,2,2,2,3,4],[0,0,2,3,4,4,5,6],[0,0,4,6,8,8,10,12],[0,0,8,12,16,16,20,24],[0,0,0,0,0,0,0,0],[0,0,0,0,2,2,2,2],[0,0,0,2,2,2,4,4],[0,0,2,2,4,4,6,6],[0,0,2,4,4,4,6,8],[0,0,4,6,8,8,10,12],[0,0,8,12,16,16,20,24],[0,0,16,24,32,32,40,48],[0,0,0,0,0,0,0,0],[0,0,0,0,4,4,4,4],[0,0,0,4,4,4,8,8],[0,0,4,4,8,8,12,12],[0,0,4,8,8,8,12,16],[0,0,8,12,16,16,20,24],[0,0,16,24,32,32,40,48],[0,0,32,48,64,64,80,96]],pm_table:new Array(32768)};l.CHAN=function(t){return 3&t},l.SLOT=function(t){return t>>2&3};var p,f=[0,2,1,3];function m(){function t(){this.ar=0,this.d1r=0,this.d2r=0,this.rr=0,this.init=function(){this.ar=0,this.d1r=0,this.d2r=0,this.rr=0}}this.DT=-1,this.KSR=0,this.rate=new function(){this.ar=0,this.d1r=0,this.d2r=0,this.rr=0,this.ksr=0,this.mul=1,this.init=function(){this.ar=0,this.d1r=0,this.d2r=0,this.rr=0,this.ksr=0,this.mul=1},this.toString=function(){return["MUL="+this.mul,"KS="+this.ksr,"AR="+this.ar,"D1R="+this.d1r,"D2R="+this.d2r,"RR="+this.rr].join(",")}},this.phase=0,this.Incr=0,this.state=0,this.tl=0,this.volume=0,this.sl=0,this.vol_out=0,this.eg={sh:new t,sel:new t,init:function(){this.sh.init(),this.sel.init()}},this.ssg=0,this.ssgn=0,this.key=0,this.AMmask=0,this.reset=function(){this.Incr=-1,this.key=0,this.phase=0,this.ssgn=0,this.state=i.OFF,this.volume=s.MAX_ATT_INDEX,this.vol_out=s.MAX_ATT_INDEX,this.out[0]=0,this.out[1]=0},this.debug={dt1mul:0,dt1:0,mul:0,tl:0,ksar:0,ks:0,ar:0,amd1r:0,am:0,d1r:0,d2r:0,slrr:0,sl:0,rr:0},this.debug.toString=function(){return["TL:"+this.tl,"DT1:"+this.dt1,"MUL:"+this.mul,"KS:"+this.ks,"AR:"+this.ar,"AM:"+this.am,"D1R:"+this.d1r,"D2R:"+this.d2r,"SL:"+this.sl,"RR:"+this.rr].join(",")},this.out=[0,0],this.toString=function(){return"OP{"+this.debug.toString()+"}"}}function d(){this.SLOT=[new m,new m,new m,new m],this.ALGO=0,this.FB=0,this.op1_out=[0,0],this.connect=["x","x","x","x"],this.mem={connect:"mem",value:0},this.pms=0,this.ams=0,this.fc=0,this.kcode=0,this.block_fnum=0,this.fn_h=0,this.outputs={m1:0,m2:0,c1:0,c2:0,mem:0,x:0,out:0},this.canCSM=0,this.canDAC=0,this.muted=0,this.pan=[0,0],this.reset=function(){this.mem.value=0,this.op1_out[0]=0,this.op1_out[1]=0;for(var t=this.SLOT.length;--t>-1;)this.SLOT[t].reset()},this.toString=function(){return"CH{"+["ALGO:"+this.ALGO,"FB:"+this.FB,"PMS:"+this.pms,"AMS:"+this.ams,"SLOTS["+this.SLOT.join(",")+"]"].join(",")+"}"}}function _(t,e){this.address=0,this.status=0,this.mode=0,this.timer_base=1,this.TA=0,this.TAL=0,this.TAC=0,this.TB=0,this.TBL=0,this.TBC=0,this.dt_tab=[new Array(32),new Array(32),new Array(32),new Array(32),new Array(32),new Array(32),new Array(32),new Array(32)],this.clock=t||7670448,this.rate=e||44100}function g(){this.fc=[0,0,0],this.fn_h=0,this.kcode=[0,0,0],this.block_fnum=[0,0,0],this.key_csm=0}function S(t,e){function n(){this.cnt=0,this.timer=0,this.timer_add=0,this.timer_overflow=0,this.init=function(){this.cnt=0,this.timer=0,this.timer_add=0,this.timer_overflow=0}}this.ST=new _(t,e),this.SL3=new g,this.eg=new n,this.lfo=new n,this.lfo.AM=0,this.lfo.PM=0,this.fn={table:new Array(4096),max:0}}function v(t,e){this.CH=[new d,new d,new d,new d,new d,new d],this.CH[2].canCSM=1,this.CH[5].canDAC=1,this.dacen=0,this.dacout=0,this.OPN=new S(t,e),this.toString=function(){return"YM[\n"+this.CH.join(",\n")+"\n]"}}function T(t){(1&t.OPN.ST.mode)>0&&(e.mode?t.OPN.ST.TAC-=t.OPN.ST.timer_base:--t.OPN.ST.TAC,t.OPN.ST.TAC<=0&&((4&t.OPN.ST.mode)>0&&(t.OPN.ST.status|=1),e.mode&&t.OPN.ST.TAL?t.OPN.ST.TAC+=t.OPN.ST.TAL:t.OPN.ST.TAC=t.OPN.ST.TAL,128==(192&t.OPN.ST.mode)&&t.CH[2].keyControlCSM()))}function O(t,e){(192&(t.OPN.ST.mode^e))>0&&(t.CH[2].SLOT[f[0]].Incr=-1,128!=(192&e)&&t.OPN.SL3.key_csm&&(t.CH[2].keyOffCSM(f[0]),t.CH[2].keyOffCSM(f[1]),t.CH[2].keyOffCSM(f[2]),t.CH[2].keyOffCSM(f[3]),t.OPN.SL3.key_csm=0)),1&e&&!(1&t.OPN.ST.mode)&&(t.OPN.ST.TAC=t.OPN.ST.TAL),2&e&&!(2&t.OPN.ST.mode)&&(t.OPN.ST.TBC=t.OPN.ST.TBL),t.OPN.ST.status&=~e>>4,t.OPN.ST.mode=e}function N(t,e){for(var n=t.CH.length;--n>-1;)t.CH[n].advance_eg(e)}n.bitmask=0,m.prototype.keyOn=function(t,e){this.key||t.OPN.SL3.key_csm||(this.phase=0,this.ssgn=0,this.rate.ar+this.rate.ksr<94?this.state=this.volume<=s.MIN_ATT_INDEX?this.sl===s.MIN_ATT_INDEX?i.SUS:i.DEC:i.ATT:(this.volume=s.MIN_ATT_INDEX,this.state=this.sl===s.MIN_ATT_INDEX?i.SUS:i.DEC),(8&this.ssg)>0&&(this.ssgn^4&this.ssg)>0?this.vol_out=this.tl+(512-this.volume&s.MAX_ATT_INDEX):this.vol_out=this.tl+(0|this.volume)),e||(this.key=1)},d.prototype.keyOn=function(t,e){this.SLOT[e].keyOn(t,0)},m.prototype.keyOff=function(t,e){(e&&!this.key||!e&&this.key&&!t.OPN.SL3.key_csm)&&this.state>i.REL&&(this.state=i.REL,(8&this.ssg)>0&&((this.ssgn^4&this.ssg)>0&&(this.volume=512-this.volume|0),this.volume>=512&&(this.volume=s.MAX_ATT_INDEX,this.state=i.OFF),this.vol_out=this.tl+(0|this.volume))),e||(this.key=0)},d.prototype.keyOff=function(t,e){this.SLOT[e].keyOff(t,0)},d.prototype.keyOnCSM=function(t,e){this.SLOT[e].keyOn(t,1)},d.prototype.keyOffCSM=function(t,e){this.SLOT[e].keyOff(t,1)},d.prototype.keyControlCSM=function(t){this.keyOnCSM(f[0]),this.keyOnCSM(f[1]),this.keyOnCSM(f[2]),this.keyOnCSM(f[3]),t.OPN.SL3.key_csm=1},d.prototype.setupConnection=function(){var t=0,n=2,s=1;switch(this.ALGO){case 0:this.connect[t]="c1",this.connect[s]="mem",this.connect[n]="c2",this.mem.connect="m2";break;case 1:this.connect[t]="mem",this.connect[s]="mem",this.connect[n]="c2",this.mem.connect="m2";break;case 2:this.connect[t]="c2",this.connect[s]="mem",this.connect[n]="c2",this.mem.connect="m2";break;case 3:this.connect[t]="c1",this.connect[s]="mem",this.connect[n]="c2",this.mem.connect="c2";break;case 4:this.connect[t]="c1",this.connect[s]="out",this.connect[n]="c2",this.mem.connect="mem";break;case 5:this.connect[t]="x",this.connect[s]="out",this.connect[n]="out",this.mem.connect="m2";break;case 6:this.connect[t]="c1",this.connect[s]="out",this.connect[n]="out",this.mem.connect="mem";break;case 7:this.connect[t]="out",this.connect[s]="out",this.connect[n]="out",this.mem.connect="mem";break;default:if(e.strict)throw new Error("CH::setup_connection - unsupported algorithm ("+this.ALGO+")")}this.connect[3]="out"},m.prototype.set_det_mul=function(t,e){this.rate.mul=(15&e)>0?(15&e)<<1:1,this.DT=e>>4&7,this.debug.dt1mul=255&e,this.debug.dt1=this.DT,this.debug.mul=15&e},d.prototype.set_det_mul=function(t,e,n){this.SLOT[e].set_det_mul(t,n),this.SLOT[f[0]].Incr=-1},m.prototype.set_tl=function(t){this.debug.tl=127&t,this.tl=this.debug.tl<<s.BITS-7,(8&this.ssg)>0&&(this.ssgn^4&this.ssg)>0&&this.state>i.REL?this.vol_out=this.tl+((512-this.volume|0)&s.MAX_ATT_INDEX):this.vol_out=this.tl+(0|this.volume)},d.prototype.set_tl=function(t,e){this.SLOT[t].set_tl(e)},m.prototype.set_ar_ksr=function(t){this.debug.ksar=255&t,this.debug.ks=t>>6,this.debug.ar=31&t;var e=0|this.KSR;if(this.rate.ar=this.debug.ar>0?32+(this.debug.ar<<1):0,this.KSR=3-this.debug.ks,this.rate.ar+this.rate.ksr<94){var n=this.rate.ar+this.rate.ksr|0;this.eg.sh.ar=i.rate_shift[n],this.eg.sel.ar=i.rate_select[n]}else this.eg.sh.ar=0,this.eg.sel.ar=18*i.RATE_STEPS;return this.KSR!==e},d.prototype.set_ar_ksr=function(t,e){this.SLOT[t].set_ar_ksr(e)&&(this.SLOT[f[0]].Incr=-1)},m.prototype.set_dr=function(t){this.debug.amd1r=255&t,this.debug.am=128&t,this.debug.d1r=31&t,this.rate.d1r=this.debug.d1r>0?32+(this.debug.d1r<<1):0;var e=this.rate.d1r+this.rate.ksr|0;this.eg.sh.d1r=i.rate_shift[e],this.eg.sel.d1r=i.rate_select[e]},d.prototype.set_dr=function(t,e){this.SLOT[t].set_dr(e)},m.prototype.set_sr=function(t){this.debug.d2r=31&t,this.rate.d2r=this.debug.d2r>0?32+(this.debug.d2r<<1):0;var e=this.rate.d2r+this.rate.ksr|0;this.eg.sh.d2r=i.rate_shift[e],this.eg.sel.d2r=i.rate_select[e]},d.prototype.set_sr=function(t,e){this.SLOT[t].set_sr(e)},m.prototype.set_sl_rr=function(t){this.debug.slrr=255&t,this.debug.sl=t>>4&15,this.debug.rr=15&t,this.sl=n.sl[this.debug.sl],this.state===i.DEC&&this.volume>=(0|this.sl)&&(this.state=i.SUS),this.rate.rr=34+(this.debug.rr<<2);var e=this.rate.rr+this.rate.ksr|0;this.eg.sh.rr=i.rate_shift[e],this.eg.sel.rr=i.rate_select[e]},d.prototype.set_sl_rr=function(t,e){this.SLOT[t].set_sl_rr(e)},m.prototype.advance_eg=function(t){switch(this.state){case i.ATT:t&(1<<this.eg.sh.ar)-1||(this.volume+=~this.volume*i.inc[this.eg.sel.ar+(t>>this.eg.sh.ar&7)]>>4,this.volume<=s.MIN_ATT_INDEX&&(this.volume=s.MIN_ATT_INDEX,this.state=this.sl===s.MIN_ATT_INDEX?i.SUS:i.DEC),(8&this.ssg)>0&&(this.ssgn^4&this.ssg)>0?this.vol_out=this.tl+((512-this.volume|0)&s.MAX_ATT_INDEX):this.vol_out=this.tl+(0|this.volume));break;case i.DEC:t&(1<<this.eg.sh.d1r)-1||((8&this.ssg)>0?this.volume<512&&(this.volume+=i.inc[this.eg.sel.d1r+(t>>this.eg.sh.d1r&7)]<<2,(this.ssgn^4&this.ssg)>0?this.vol_out=this.tl+((512-this.volume|0)&s.MAX_ATT_INDEX):this.vol_out=this.tl+(0|this.volume)):(this.volume+=i.inc[this.eg.sel.d1r+(t>>this.eg.sh.d1r&7)],this.vol_out=this.tl+(0|this.volume)),this.volume>=(0|this.sl)&&(this.state=i.SUS));break;case i.SUS:t&(1<<this.eg.sh.d2r)-1||((8&this.ssg)>0?this.volume<512&&(this.volume+=i.inc[this.eg.sel.d2r+(t>>this.eg.sh.d2r&7)]<<2,(this.ssgn^4&this.ssg)>0?this.vol_out=this.tl+((512-this.volume|0)&s.MAX_ATT_INDEX):this.vol_out=this.tl+(0|this.volume)):(this.volume+=i.inc[this.eg.sel.d2r+(t>>this.eg.sh.d2r&7)],this.volume>=s.MAX_ATT_INDEX&&(this.volume=s.MAX_ATT_INDEX),this.vol_out=this.tl+(0|this.volume)));break;case i.REL:t&(1<<this.eg.sh.rr)-1||((8&this.ssg)>0?this.volume<512&&(this.volume+=i.inc[this.eg.sel.rr+(t>>this.eg.sh.rr&7)]<<2,this.volume>=512&&(this.volume=s.MAX_ATT_INDEX,this.state=i.OFF)):(this.volume+=i.inc[this.eg.sel.rr+(t>>this.eg.sh.rr&7)],this.volume>=s.MAX_ATT_INDEX&&(this.volume=s.MAX_ATT_INDEX,this.state=i.OFF)),this.vol_out=this.tl+(0|this.volume));break;default:if(e.strict)throw new Error("FM_SLOT::advance_eg - unsupported state ("+this.state+")")}},d.prototype.advance_eg=function(t){for(var e=this.SLOT.length;--e>-1;)this.SLOT[e].advance_eg(t)},m.prototype.update_ssg_eg=function(){(8&this.ssg)>0&&this.volume>=512&&this.state>i.REL&&((1&this.ssg)>0?((2&this.ssg)>0&&(this.ssgn=4),this.state===i.ATT||this.ssgn^4&this.ssg||(this.volume=s.MAX_ATT_INDEX)):((2&this.ssg)>0?this.ssgn^=4:this.phase=0,this.state!==i.ATT&&(this.rate.ar+this.rate.ksr<94?this.state=this.volume<=s.MIN_ATT_INDEX?this.sl===s.MIN_ATT_INDEX?i.SUS:i.DEC:i.ATT:(this.volume=s.MIN_ATT_INDEX,this.state=this.sl===s.MIN_ATT_INDEX?i.SUS:i.DEC))),(this.ssgn^4&this.ssg)>0?this.vol_out=this.tl+((512-this.volume|0)&s.MAX_ATT_INDEX):this.vol_out=this.tl+(0|this.volume))},d.prototype.update_ssg_eg=function(){for(var t=this.SLOT.length;--t>-1;)this.SLOT[t].update_ssg_eg()},m.prototype.update_phase_lfo=function(t,n,s){var i=u.pm_table[((2032&s)>>4<<8)+n+t.OPN.lfo.PM];if(i){if(this.DT<0){if(console.log("FM_SLOT::update_phase_lfo - invalid DT",this.DT),e.strict)throw new Error("FM_SLOT::update_phase_lfo - invalid DT="+this.DT);return}var a,o,h;a=(28672&(s=i+(s<<1)))>>12,s&=4095,o=a<<2|l.fktable[s>>8],e.mode?(h=(t.OPN.fn.table[s]>>7-a)+t.OPN.ST.dt_tab[this.DT][o])<0&&(h+=t.OPN.fn.max):h=(s<<5>>7-a)+t.OPN.ST.dt_tab[this.DT][o]&r.MASK,this.phase+=h*this.rate.mul>>1}else this.phase+=this.Incr},m.prototype.update_phase_lfo_precalc=function(t,n,s){var i;-1!==n?(e.mode?(i=n+t.OPN.ST.dt_tab[this.DT][s])<0&&(i+=t.OPN.fn.max):i=n+t.OPN.ST.dt_tab[this.DT][s]&r.MASK,this.phase+=i*this.rate.mul>>1):this.phase+=this.Incr},d.prototype.update_phase_lfo=function(t){var n,s,i,r=this.pms,a=this.block_fnum,o=u.pm_table[((2032&a)>>4<<8)+r+t.OPN.lfo.PM];o?(n=(28672&(a=o+(a<<1)))>>12,a&=4095,s=n<<2|l.fktable[a>>8],i=e.mode?t.OPN.fn.table[a]>>7-n:a<<5>>7-n):i=-1;for(var h=this.SLOT.length;--h>-1;)this.SLOT[f[h]].update_phase_lfo_precalc(t,i,s)},m.prototype.refresh_fc_eg=function(t,n,s){if(this.DT<0){if(console.log("FM_SLOT::refresh_fc_eg - invalid DT",this.DT),e.strict)throw new Error("FM_SLOT::refresh_fc_eg - invalid DT="+this.DT)}else if(e.debug>1&&console.log("OPN.ST.dt_tab["+this.DT+"]["+s+"]",t.OPN.ST.dt_tab[this.DT][s]),n+=t.OPN.ST.dt_tab[this.DT][s],e.mode?n<0&&(n+=t.OPN.fn.max):n&=r.MASK,this.Incr=n*this.rate.mul>>1,s>>=this.KSR,this.rate.ksr!==s){this.rate.ksr=s;var a=this.rate.ar+s|0;a<94?(this.eg.sh.ar=i.rate_shift[a],this.eg.sel.ar=i.rate_select[a]):(this.eg.sh.ar=0,this.eg.sel.ar=18*i.RATE_STEPS),a=this.rate.d1r+s|0,this.eg.sh.d1r=i.rate_shift[a],this.eg.sel.d1r=i.rate_select[a],a=this.rate.d2r+s|0,this.eg.sh.d2r=i.rate_shift[a],this.eg.sel.d2r=i.rate_select[a],a=this.rate.rr+s|0,this.eg.sh.rr=i.rate_shift[a],this.eg.sel.rr=i.rate_select[a]}},d.prototype.refresh_fc_eg=function(t){if(-1===this.SLOT[f[0]].Incr){var n=0|this.fc,s=0|this.kcode;e.debug>1&&console.log("FM_CH::refresh_fc_eg",n,s);for(var i=this.SLOT.length;--i>-1;)this.SLOT[f[i]].refresh_fc_eg(t,n,s)}},m.prototype.calcVol=function(t){return this.vol_out+(t&this.AMmask)|0},p=e.mode?function(t,e,s,i){var r=(e<<3)+n.sin[(t&~n.FREQ_MASK)+(i?s:s<<15)>>n.FREQ_SH&a.MASK];return r>=c.TAB_LEN?0:c.tab[r]}:function(t,e,s,i){var r=(e<<3)+n.sin[(i?t+s>>a.BITS:(t>>a.BITS)+(s>>1))&a.MASK];return r>=c.TAB_LEN?0:c.tab[r]},m.prototype.calculate=function(t,e,n){var i=this.vol_out+(e&this.AMmask)|0,r=0;if(n){var a=this.out[0]+this.out[1]|0;this.out[0]=0|this.out[1],r=0|this.out[0],i<s.QUIET?(t||(a=0),this.out[1]=p(this.phase,i,a<<t,1)):this.out[1]=0}else i<s.QUIET?(this.out[0]=p(this.phase,i,t,0),r=0|this.out[0]):r=this.out[0]=0;return r},d.prototype.calculate=function(t){var e,n,s=t.OPN.lfo.AM>>this.ams,i=["x","c1","m2","c2"];this.outputs.m2=0,this.outputs.c1=0,this.outputs.c2=0,this.outputs.mem=0,this.outputs.x=0,this.outputs[this.mem.connect]=this.mem.value,n=0,0!==(e=this.SLOT[f[n]].calculate(this.FB,s,1))&&("x"===this.connect[n]?(this.outputs.x=e,this.outputs.mem=e,this.outputs.c1=e,this.outputs.c2=e):this.outputs[this.connect[n]]+=e),n=2,0!==(e=this.SLOT[f[n]].calculate(this.outputs[i[n]],s,0))&&("x"===this.connect[n]||(this.outputs[this.connect[n]]+=e)),n=1,0!==(e=this.SLOT[f[n]].calculate(this.outputs[i[n]],s,0))&&("x"===this.connect[n]||(this.outputs[this.connect[n]]+=e)),n=3,0!==(e=this.SLOT[f[n]].calculate(this.outputs[i[n]],s,0))&&("x"===this.connect[n]||(this.outputs[this.connect[n]]+=e)),this.mem.value=0|this.outputs.mem,this.pms?(192&t.OPN.ST.mode)>0&&this.canCSM?(this.SLOT[f[0]].update_phase_lfo(t,this.pms,t.OPN.SL3.block_fnum[1]),this.SLOT[f[1]].update_phase_lfo(t,this.pms,t.OPN.SL3.block_fnum[2]),this.SLOT[f[2]].update_phase_lfo(t,this.pms,t.OPN.SL3.block_fnum[0]),this.SLOT[f[3]].update_phase_lfo(t,this.pms,this.block_fnum)):this.update_phase_lfo(t):(this.SLOT[f[0]].phase+=this.SLOT[f[0]].Incr,this.SLOT[f[1]].phase+=this.SLOT[f[1]].Incr,this.SLOT[f[2]].phase+=this.SLOT[f[2]].Incr,this.SLOT[f[3]].phase+=this.SLOT[f[3]].Incr)},l.WriteMode=function(t,s,i){switch(i&=255,s){case 33:break;case 34:8&i?e.mode?t.OPN.lfo.timer_overflow=u.samples_per_step[7&i]<<n.LFO_SH:t.OPN.lfo.timer_overflow=u.samples_per_step[7&i]:(t.OPN.lfo.timer_overflow=0,t.OPN.lfo.timer=0,t.OPN.lfo.cnt=0,t.OPN.lfo.AM=126,t.OPN.lfo.PM=0);break;case 36:t.OPN.ST.TA=3&t.OPN.ST.TA|(0|i)<<2,t.OPN.ST.TAL=1024-t.OPN.ST.TA,e.mode&&(t.OPN.ST.TAL<<=n.TIMER_SH);break;case 37:t.OPN.ST.TA=1020&t.OPN.ST.TA|3&i,t.OPN.ST.TAL=1024-t.OPN.ST.TA,e.mode&&(t.OPN.ST.TAL<<=n.TIMER_SH);break;case 38:t.OPN.ST.TB=i,e.mode?t.OPN.ST.TBL=256-i<<n.TIMER_SH+4:t.OPN.ST.TBL=256-i<<4;break;case 39:O(t,i);break;case 40:var r=3&i;if(3===r)break;4&i&&(r+=3),a=t.CH[r],16&i?a.keyOn(t,f[0]):a.keyOff(t,f[0]),32&i?a.keyOn(t,f[1]):a.keyOff(t,f[1]),64&i?a.keyOn(t,f[2]):a.keyOff(t,f[2]),128&i?a.keyOn(t,f[3]):a.keyOff(t,f[3])}var a},l.WriteReg=function(t,r,a){a&=255;var o,h=l.CHAN(r),c=l.SLOT(r);if(h>=3){if(e.strict)throw new Error("OPN_Write - unsupported channel "+h+" or slot "+c+" from {$"+r.toString(16)+",$"+a.toString(16)+"}")}else switch(r>=256&&(h+=3),240&r){case 48:t.CH[h].set_det_mul(t,c,a);break;case 64:t.CH[h].set_tl(c,a);break;case 80:t.CH[h].set_ar_ksr(c,a);break;case 96:t.CH[h].set_dr(c,a),t.CH[h].SLOT[c].AMmask=128&a?-1:0;break;case 112:t.CH[h].set_sr(c,a);break;case 128:t.CH[h].set_sl_rr(c,a);break;case 144:(o=t.CH[h].SLOT[c]).ssg=15&a,o.state>i.REL&&((8&o.ssg)>0&&(o.ssgn^4&o.ssg)>0?o.vol_out=o.tl+((512-o.volume|0)&s.MAX_ATT_INDEX):o.vol_out=o.tl+(0|o.volume));break;case 160:var p,m;switch(c){case 0:p=((7&t.CH[h].fn_h)<<8)+a,m=t.CH[h].fn_h>>3&255,t.CH[h].kcode=m<<2|l.fktable[p>>7],e.mode?t.CH[h].fc=t.OPN.fn.table[p<<1]>>7-m:t.CH[h].fc=p<<6>>7-m,t.CH[h].block_fnum=m<<11|p,t.CH[h].SLOT[f[0]].Incr=-1,e.debug>2&&console.log("block_fnum=x",t.CH[h].block_fnum.toString(16)," kcode=",t.CH[h].kcode.toString(16)," fc=",t.CH[h].fc.toString(16));break;case 1:t.CH[h].fn_h=63&a|0;break;case 2:r<256&&(p=((7&t.OPN.SL3.fn_h)<<8)+a,m=t.OPN.SL3.fn_h>>3,t.OPN.SL3.kcode[h]=m<<2|l.fktable[p>>7],e.mode?t.OPN.SL3.fc[h]=t.OPN.fn.table[p<<1]>>7-m:t.OPN.SL3.fc[h]=p<<6>>7-m,t.OPN.SL3.block_fnum[h]=m<<11|p,t.CH[2].SLOT[f[0]].Incr=-1);break;case 3:r<256&&(t.OPN.SL3.fn_h=63&a)}break;case 176:switch(c){case 0:var d=a>>3&7;t.CH[h].ALGO=7&a,e.mode?t.CH[h].FB=d?d+6:0:t.CH[h].FB=d,t.CH[h].setupConnection();break;case 1:t.CH[h].pms=(7&a)<<5,t.CH[h].ams=u.ams_depth_shift[a>>4&3],t.CH[h].pan[0]=128&a?n.bitmask:0,t.CH[h].pan[1]=64&a?n.bitmask:0}}},l.SetPrescaler=function(t,s){var i,a,o;t.ratio=s||144,t.OPN.ST.scale=t.OPN.ST.clock/t.OPN.ST.rate/t.ratio,e.debug&&console.log("init_timetables",t.OPN.ST.clock,t.OPN.ST.rate,t.ratio,t.OPN.ST.scale);var h=t.OPN.ST.scale*(1<<n.FREQ_SH-10);for(i=0;i<4;++i)for(a=0;a<32;++a)o=r.tab[(i<<5)+a],e.mode&&(o*=h),t.OPN.ST.dt_tab[i][a]=0|o,t.OPN.ST.dt_tab[i+4][a]=-t.OPN.ST.dt_tab[i][a];for(o=32*h,a=4096;--a>-1;)t.OPN.fn.table[a]=a*o|0;t.OPN.fn.max=131072*h|0,t.OPN.eg.timer_add=t.OPN.ST.scale*(1<<n.EG_SH)|0,t.OPN.eg.timer_overflow=3*(1<<n.EG_SH),t.OPN.lfo.timer_add=t.OPN.ST.scale*(1<<n.LFO_SH)|0,t.OPN.ST.timer_base=t.OPN.ST.scale*(1<<n.TIMER_SH)|0},t.prototype.init=function(t,i){e.debug&&console.log("OPN::init("+t+","+i+")"),this.chip?(this.chip.ST.clock=t||7670448,this.chip.ST.rate=i||44100):this.chip=new v(t,i),this.ratio=144,this.interval=e.mode,this.start=0,this.count=0,function(t){var i,r,o,h,l,p,f,m;e.debug&&console.log("init_tables",t.CH.length);var d=Math.PI,_=Math.log,g=Math.pow,S=Math.sin,v=s.STEP/32,T=c.RES_LEN<<1;for(o=0;o<c.RES_LEN;++o)for(1&(h=(0|(p=65536/g(2,(o+1)*v)))>>4)?h=1+(h>>1):h>>=1,h<<=2,m=o<<1,c.tab[m+0]=h,c.tab[m+1]=-h,r=1;r<13;++r)f=m+0+r*T|0,c.tab[f]=c.tab[m]>>r,c.tab[f+1]=-c.tab[f];for(f=d/a.LEN,m=8/_(2),v=8/s.STEP,r=0;r<a.LEN;++r)1&(h=(l=(p=S((1+(r<<1))*f))>0?_(1/p)*m:_(-1/p)*m)*v|0)?h=1+(h>>1):h>>=1,n.sin[r]=(h<<1)+(p>=0?0:1);for(r=0;r<8;++r)for(h=0;h<128;++h)for(o=0;o<8;++o){for(m=0,l=0;l<7;++l)(h&1<<l)>0&&(m+=u.pm_output[(l<<3)+r][o]);i=(h<<8)+(r<<5),u.pm_table[i+o+0]=m,u.pm_table[i+(7^o)+8]=m,u.pm_table[i+o+16]=-m,u.pm_table[i+(7^o)+24]=-m}}(this.chip)},t.prototype.reset=function(){e.debug&&console.log("OPN::reset"),function(t){var s;for(l.SetPrescaler(t,144),t.OPN.eg.timer=0,t.OPN.eg.cnt=0,t.OPN.lfo.timer_overflow=0,t.OPN.lfo.timer=0,t.OPN.lfo.cnt=0,t.OPN.lfo.AM=126,t.OPN.lfo.PM=0,t.OPN.ST.TAC=0,t.OPN.ST.TBC=0,t.OPN.SL3.key_csm=0,t.dacen=0,t.dacout=0,O(t,48),t.OPN.ST.TB=0,t.OPN.ST.TA=0,e.mode?(t.OPN.ST.TBL=256<<n.TIMER_SH+4,t.OPN.ST.TAL=1024<<n.TIMER_SH):(t.OPN.ST.TBL=4096,t.OPN.ST.TAL=1024),function(t,e){for(e>t.CH.length&&(e=t.CH.length);--e>-1;)t.CH[e].reset()}(t,6),s=182;s>=180;)3!=(3&s)&&(l.WriteReg(t,s,192),l.WriteReg(t,256|s,192)),--s;for(s=178;s>=30;)3!=(3&s)&&(l.WriteReg(t,s,0),l.WriteReg(t,256|s,0)),--s}(this.chip),this.start=0,this.count=0},t.prototype.write=function(t,n){e.debug>1&&console.log("OPN::write",t.toString(16),n.toString(16)),n&=255,this.chip.OPN.ST.address=511&t;var s=this.chip.OPN.ST.address;switch(496&s){case 32:switch(s){case 42:this.chip.dacout=(n-128|0)<<6;break;case 43:this.chip.dacen=!!(128&n);break;default:l.WriteMode(this.chip,s,n)}break;default:l.WriteReg(this.chip,s,n)}},t.prototype.read=function(t){return 255&this.chip.OPN.ST.status},t.prototype.update=function(t){var n=t*this.ratio;e.debug&&console.log("==== YM::update","samples="+t,"cycles="+n);for(var s,i,r,a,o=[[],[]],h=!!(192&this.chip.OPN.ST.mode),c=-1;++c<this.chip.CH.length;)h?this.chip.CH[c].canCSM&&-1===this.chip.CH[c].SLOT[f[0]].Incr&&(this.chip.CH[c].SLOT[f[0]].refresh_fc_eg(this.chip,this.chip.OPN.SL3.fc[1],this.chip.OPN.SL3.kcode[1]),this.chip.CH[c].SLOT[f[1]].refresh_fc_eg(this.chip,this.chip.OPN.SL3.fc[2],this.chip.OPN.SL3.kcode[2]),this.chip.CH[c].SLOT[f[2]].refresh_fc_eg(this.chip,this.chip.OPN.SL3.fc[0],this.chip.OPN.SL3.kcode[0]),this.chip.CH[c].SLOT[f[3]].refresh_fc_eg(this.chip,this.chip.CH[c].fc,this.chip.CH[c].kcode)):this.chip.CH[c].refresh_fc_eg(this.chip);e.debugArr.length=0;var l,u,p,m=this.chip.CH.length;for(c=-1;++c<t;){for(i=0,r=0,a=!!(2&this.chip.OPN.SL3.key_csm),l=!1,s=-1;++s<m;)this.chip.CH[s].outputs.out=0,this.chip.CH[s].update_ssg_eg(),this.chip.dacen&&this.chip.CH[s].canDAC&&!l?(this.chip.CH[s].outputs.out+=this.chip.dacout,l=!0):this.chip.CH[s].calculate(this.chip),this.chip.CH[s].outputs.out>8192?this.chip.CH[s].outputs.out=8192:this.chip.CH[s].outputs.out<-8192&&(this.chip.CH[s].outputs.out=-8192),this.chip.CH[s].muted||(i+=this.chip.CH[s].outputs.out&this.chip.CH[s].pan[0]|0,r+=this.chip.CH[s].outputs.out&this.chip.CH[s].pan[1]|0),a&&this.chip.CH[s].canCSM&&(this.chip.CH[s].keyOffCSM(this.chip,f[0]),this.chip.CH[s].keyOffCSM(this.chip,f[1]),this.chip.CH[s].keyOffCSM(this.chip,f[2]),this.chip.CH[s].keyOffCSM(this.chip,f[3]));if(u=this.chip,p=void 0,p=e.mode?function(t){for(;t.lfo.timer>=t.lfo.timer_overflow;)t.lfo.timer-=t.lfo.timer_overflow,t.lfo.cnt=t.lfo.cnt+1&127,t.lfo.cnt<64?t.lfo.AM=(63^t.lfo.cnt)<<1:t.lfo.AM=(63&t.lfo.cnt)<<1,t.lfo.PM=t.lfo.cnt>>2}:function(t){t.lfo.timer>t.lfo.timer_overflow&&(t.lfo.timer=0,t.lfo.cnt=t.lfo.cnt+1&127,t.lfo.cnt<64?t.lfo.AM=(63^t.lfo.cnt)<<1:t.lfo.AM=(63&t.lfo.cnt)<<1,t.lfo.PM=t.lfo.cnt>>2)},u.OPN.lfo.timer_overflow&&(e.mode?u.OPN.lfo.timer+=u.OPN.lfo.timer_add:++u.OPN.lfo.timer,p(u.OPN)),e.mode)for(this.chip.OPN.eg.timer+=this.chip.OPN.eg.timer_add;this.chip.OPN.eg.timer>=this.chip.OPN.eg.timer_overflow;)this.chip.OPN.eg.timer-=this.chip.OPN.eg.timer_overflow,++this.chip.OPN.eg.cnt,N(this.chip,this.chip.OPN.eg.cnt);else++this.chip.OPN.eg.timer,this.chip.OPN.eg.timer>=3&&(this.chip.OPN.eg.timer=0,++this.chip.OPN.eg.cnt,N(this.chip,this.chip.OPN.eg.cnt));o[0][c]=i,o[1][c]=r,this.chip.OPN.SL3.key_csm<<=1,T(this.chip),a&&(this.chip.OPN.SL3.key_csm=0)}return function(t,n){(2&t.OPN.ST.mode)>0&&(e.mode?t.OPN.ST.TBC-=t.OPN.ST.timer_base*n:t.OPN.ST.TBC-=n,t.OPN.ST.TBC<=0&&((8&t.OPN.ST.mode)>0&&(t.OPN.ST.status|=2),t.OPN.ST.TBL?t.OPN.ST.TBC+=t.OPN.ST.TBL:t.OPN.ST.TBC=t.OPN.ST.TBL))}(this.chip,t),e.debugArr.length>0&&console.log(e.debugArr.join(", ")),o},t.prototype.config=function(t){n.bitmask=~((1<<c.BITS-t)-1);for(var e=this.chip.CH.length;--e>-1;)this.chip.CH[e].pan[0]&&(this.chip.CH[e].pan[0]=n.bitmask),this.chip.CH[e].pan[1]&&(this.chip.CH[e].pan[1]=n.bitmask)},t.prototype.toggle=function(t,e){t<6&&(this.chip.CH[t].muted=!e)},t.prototype.toString=function(){return this.chip.toString()},t.prototype.load=function(t){},t.prototype.save=function(t){}}(g);var S=n(216),v=n.n(S),T=new g,O=new v.a({polyphony:1,rows:1,priority:"last"}),N=[],C=function(){function t(t){var e=this;this.noteOn=function(t){var n=440*Math.pow(2,(t-69)/12);e.onKeyDown({note:t,frequency:n})},this.noteOff=function(t){e.onKeyUp({note:t})},this.onKeyDown=function(t){-1===N.indexOf(t.note)&&N.push(t.note);for(var e=t.frequency,n=2;e>=2048;)e/=2,n++;var s=parseInt(e);T.write(164,s>>8&7|(7&n)<<3),T.write(160,255&s),1===N.length&&T.write(40,240)},this.onKeyUp=function(t){for(var e=0;e<N.length;e++)N[e]===t.note&&N.splice(e,1);0===N.length&&T.write(40,0)},O.down(this.onKeyDown),O.up(this.onKeyUp),this.start()}var e=t.prototype;return e.start=function(){"undefined"!=typeof window&&(this.fm=new _.Sound({source:"script",options:{audioFunction:function(t){for(var e=T.update(1024),n=t.outputBuffer.getChannelData(0),s=0;s<t.outputBuffer.length;s++)n[s]=e[0][s]/32768},bufferSize:1024}}))},e.play=function(){this.fm.play()},e.pause=function(){this.fm.pause()},e.destroy=function(){this.fm.stop()},e.update=function(t,e,n,s,i){var r=function(n,s,r){return(i[t+"_"+e+"_"+n]&Math.pow(2,s)-1)<<r};if("lfo"===n)T.write(34,7&s);else if("det"===n||"mul"===n){var a=r("det",3,4)|r("mul",4,0);T.write(48+4*e,a)}else if("tl"===n){var o=r("tl",7,0);T.write(64+4*e,o)}else if("rs"===n||"ar"===n){var h=r("rs",2,6)|r("ar",5,0);T.write(80+4*e,h)}else if("am"===n||"d1"===n){var c=r("am",1,7)|r("d1",5,0);T.write(96+4*e,c)}else if("d2"===n){var l=r("d2",5,0);T.write(112+4*e,l)}else if("sl"===n||"rr"===n){var u=r("sl",4,4)|r("rr",4,0);T.write(128+4*e,u)}else if("al"===n||"fb"===n){var p=r("fb",3,3)|r("al",3,0);T.write(176,p)}else if("st"===n||"ams"===n||"fms"===n){var f=r("st",2,6)|r("ams",2,4)|r("fms",3,0);T.write(180,f)}},t}();T.init(7670448,44100),T.config(9),T.reset(),T.write(40,0),T.write(34,0),T.write(39,0),T.write(40,1),T.write(40,2),T.write(40,4),T.write(40,5),T.write(40,6),T.write(43,0),T.write(48,113),T.write(52,13),T.write(56,51),T.write(60,1),T.write(64,35),T.write(68,45),T.write(72,38),T.write(76,0),T.write(80,95),T.write(84,153),T.write(88,95),T.write(92,148),T.write(96,5),T.write(100,5),T.write(104,5),T.write(108,7),T.write(112,2),T.write(116,2),T.write(120,2),T.write(124,2),T.write(128,17),T.write(132,17),T.write(136,17),T.write(140,166),T.write(144,0),T.write(148,0),T.write(152,0),T.write(156,0),T.write(176,50),T.write(180,192),T.write(40,0),T.write(164,34),T.write(160,105);var P=n(168),y=a.a.createContext(),E=(y.Consumer,["ar","d1","sl","d2","rr","tl","mul","det","rs","am","al","fb","ams","fms","st","lfo"]),k=function(t){function e(e){var n;return(n=t.call(this,e)||this).handleCC=function(t,e,s){var i=n.state.activeParameter;if(n.state.mapping[i]&&n.state.learning){var r=Object.assign({},n.state.mapping);r[i].ch!==t&&r[i].cc!==e&&(r[i].ch=t,r[i].cc=e,n.setState({mapping:r}),P.reactLocalStorage.setObject("mapping",r))}for(var a=0,o=Object.entries(n.state.mapping);a<o.length;a++){var h=o[a],c=h[0],l=h[1];if(l.cc===e&&l.ch===t){var u=128/Math.pow(2,l.bits),p=Math.floor(s/u);n.updateParam(c,p)}}},n.toggleLearning=function(){n.setState({learning:!n.state.learning})},n.toggleSound=function(){n.state.soundOn?n.state.emulator.pause():n.state.emulator.play(),n.setState({soundOn:!n.state.soundOn})},n.sendParameter=function(t,e){var s=t.split("_"),i=parseInt(s[0]),r=parseInt(s[1]),a=s[2],o=[];o.push(i),o.push(r),o.push(E.indexOf(a)),n.state.midi.sendSysexSet(o,e),n.state.emulator.update(i,r,a,e,n.state.params)},n.setActiveParameter=function(t){n.setState({activeParameter:t})},n.updateParam=function(t,e){var s=Object.assign({},n.state.params);s[t]!==e&&(s[t]=e,n.setState({params:s}),n.sendParameter(t,e))},n.updateParams=function(t){n.setState({params:t});for(var e=0,s=Object.entries(t);e<s.length;e++){var i=s[e],r=i[0],a=i[1];n.sendParameter(r,a)}},n.filterChannel=function(t){var e=Object.assign({},n.state.filters);e.ch=t,n.setState({filters:e})},n.state={midi:null,emulator:new C,learning:!1,activeParameter:null,envelopes:{},params:f(),mapping:d(),filters:{ch:6},soundOn:!1,setActiveParameter:n.setActiveParameter,updateParam:n.updateParam,updateParams:n.updateParams,filterChannel:n.filterChannel,toggleSound:n.toggleSound,toggleLearning:n.toggleLearning,handleCC:n.handleCC},n}i()(e,t);var n=e.prototype;return n.componentWillMount=function(){this.toggleSound();var t=P.reactLocalStorage.getObject("mapping",null);null!==t&&this.setState({mapping:t})},n.componentWillUnmount=function(){this.state.emulator.destroy()},n.componentDidUpdate=function(t,e){var n=this,s=e.params,i=this.state.params,r=["ar","d1","sl","d2","rr","tl"],a=Object.keys(i).reduce(function(t,e){var n;return s[e]===i[e]?t:Object.assign({},t,((n={})[e]=i[e],n))},{}),o=Object.keys(a).reduce(function(t,e){return r.some(function(t){return e.endsWith(t)})&&t.push(e.substring(0,3)),t},[]).filter(function(t,e,n){return n.indexOf(t)===e});if(o.length){var h=Object.assign({},this.state.envelopes);o.forEach(function(t){var e=r.reduce(function(e,n){return e[""+n]=i[t+"_"+n],e},{});h[t]=n.calculateEnvelopePoints(e)}),this.setState({envelopes:h})}},n.calculateEnvelopePoints=function(t){var e=Math.round((31-t.ar)/31*100),n=Math.round(t.tl/127*100),s=Math.round(e+(31-t.d1)/31*100),i=Math.round(n+(100-n)*(t.sl/15)),r=Math.round(s+(31-t.d2)/31*50+50);return[[0,100],[e,n],[s,i],[r,Math.round(i+(100-i)*(t.d2/31*.5))],[Math.round(r+(31-t.rr)/31*100),100]].map(function(t){return t.join(",")}).join(" ").replace(/NaN/g,"0")},n.render=function(){return a.a.createElement(y.Provider,{value:this.state},this.props.children)},e}(a.a.Component),b=(n(87),n(88),n(99),n(223),n(174),n(182)),M=function(t){function e(e){var n;return(n=t.call(this,e)||this).midiInId="",n.midiOutId="",n.onChangeMidiIn=function(t){n.setMidiIn(t.target.value)},n.onChangeMidiOut=function(t){n.setMidiOut(t.target.value)},n.sendSysex=function(t){n.sendMidi(t)},n.sendSysexSet=function(t,e){var s=[240,65,38,18,18],i=127-(t[0]+t[1]+t[2]+e)%127;s.push(t[0]),s.push(t[1]),s.push(t[2]),s.push(e),s.push(i),s.push(247),n.sendSysex(s)},n.sendMidi=function(t){var e=n.state.midiAccess;if(null!==e){var s=e.outputs.get(n.midiOutId);s?s.send(t):console.log("No Midi Out")}else console.log("Null midi Access")},n.onMIDIStateChange=function(t){console.log(t.port.name,t.port.manufacturer,t.port.state,t.port.type),n.refreshMidiPorts()},n.onMIDIMessage=function(t){if(t.target.id===n.midiInId){var e=Array.from(t.data),s=240&e[0];if(240!==s){if(176===s){var i=15&e[0],r=127&e[1],a=127&e[2];n.context.handleCC(i,r,a),n.setState({lastMsg:s+","+i+","+r+","+a})}128!==s&&144!==s||(n.sendMidi(e),144===s?n.context.emulator.noteOn(e[1]):n.context.emulator.noteOff(e[1]))}else{JSON.stringify(e)===JSON.stringify([240,126,0,6,2,38,38,18,0,0,1,0,0,0,247])&&n.setState({lastMsg:"CV2612 found!"})}}},n.onLearnClick=function(t){t.preventDefault(),n.context.toggleLearning()},n.onPanicClick=function(t){t.preventDefault(),n.context.midi.sendSysexSet([6,4,16],0)},n.onClearClick=function(t){t.preventDefault(),n.context.midi.sendSysexSet([6,4,17],0)},n.onToggleSoundClick=function(t){t.preventDefault(),n.context.toggleSound()},n.state={midiAccess:null,midiIns:[],midiOuts:[],lastMsg:""},n}i()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;navigator.requestMIDIAccess({sysex:!0}).then(function(e){t.setState({midiAccess:e}),t.refreshMidiPorts(),e.onstatechange=t.onMIDIStateChange},function(){return console.log("Could not access your MIDI devices.")}),this.context.midi=this},n.setMidiOut=function(t){this.midiOutId=t,this.setState({midiOutId:t}),P.reactLocalStorage.set("midiOutId",t),this.sendHandshake()},n.setMidiIn=function(t){this.midiInId=t,this.setState({midiInId:t}),P.reactLocalStorage.set("midiInId",t);var e=this.state.midiAccess.inputs.get(t);e?e.onmidimessage=this.onMIDIMessage:console.log("Midi In error")},n.sendHandshake=function(){this.sendSysex([240,126,127,6,1,247])},n.refreshMidiPorts=function(){var t=this.state.midiAccess,e=Array.from(t.inputs.values()),n=Array.from(t.outputs.values());if(this.setState({midiIns:e,midiOuts:n}),e.length){var s=P.reactLocalStorage.get("midiInId");e.map(function(t){return t.id}).includes(s)||(s=e[0].id),s!==this.midiInId&&this.setMidiIn(s)}if(n.length){var i=P.reactLocalStorage.get("midiOutId");n.map(function(t){return t.id}).includes(i)||(i=n[0].id),i!==this.midiOutId&&this.setMidiOut(i)}},n.render=function(){return a.a.createElement("div",null,a.a.createElement("p",null,this.state.lastMsg||"Click learn to bind a controller"),a.a.createElement("nav",{className:"midi"},a.a.createElement("span",null,"In"),a.a.createElement("select",{value:this.state.midiInId,onChange:this.onChangeMidiIn},this.state.midiIns.map(function(t){return a.a.createElement("option",{key:t.id,value:t.id},t.name)})),a.a.createElement("span",null,"Out"),a.a.createElement("select",{value:this.state.midiOutId,onChange:this.onChangeMidiOut},this.state.midiOuts.map(function(t){return a.a.createElement("option",{key:t.id,value:t.id},t.name)})),a.a.createElement("a",{className:this.context.learning?"learning":"",href:"/",title:"Click to Learn",onClick:this.onLearnClick},a.a.createElement(b.l,null)),a.a.createElement("a",{href:"/",title:"Click if panic",onClick:this.onPanicClick},a.a.createElement(b.h,null)),a.a.createElement("a",{href:"/",title:"Click to clear midi mapping",onClick:this.onClearClick},a.a.createElement(b.m,null)),a.a.createElement("a",{href:"/",title:"Toggles Sound",onClick:this.onToggleSoundClick},this.context.soundOn?a.a.createElement(b.o,null):a.a.createElement(b.p,null))))},e}(a.a.Component);M.contextType=y;var w,L=M,A=(n(225),0),I=!1,D=function(t){function e(e){var n;return(n=t.call(this,e)||this).onClick=function(t){t.preventDefault(),n.setState({sequencerOn:!n.state.sequencerOn})},n.state={sequencerOn:!1},n}i()(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this.sequencerStop()},n.sequencerStop=function(){clearTimeout(w),I&&(this.context.midi.sendMidi([128,A,0]),I=!1)},n.sequencerTick=function(){var t=this;if(I?(this.context.midi.sendMidi([128,A,0]),I=!1):(A=[0,3,5,7,10].sort(function(){return Math.random()-.5})[0]+12*(3+Math.floor(5*Math.random())),this.context.midi.sendMidi([144,A,100]),I=!0),this.state.sequencerOn){var e=500/Math.pow(2,Math.floor(5*Math.random()));w=setTimeout(function(){return t.sequencerTick()},e)}},n.componentDidUpdate=function(t,e){e.sequencerOn!==this.state.sequencerOn&&(this.state.sequencerOn?this.sequencerTick():this.sequencerStop())},n.render=function(){return null},e}(a.a.Component);D.contextType=y;var H=D,x=(n(227),n(189),n(192),function(t){function e(e){var n;return(n=t.call(this,e)||this).loadPatch=function(t,e){var s=p(t,e);if(null!==s){var i=n.state.patches;i.push(s),n.save(i)}},n.addDmpPatch=function(t,e){var s=p(t,e);if(null!==s){var i=n.state.patches;i.push(s),n.save(i)}},n.onChangeHandler=function(t){var e=function(){if(i){if(r>=s.length)return"break";a=s[r++]}else{if((r=s.next()).done)return"break";a=r.value}var t=a,e=new FileReader;e.onload=function(){var s=new Int8Array(e.result);n.addDmpPatch(t.name,s)},e.readAsArrayBuffer(t)},s=t.target.files,i=Array.isArray(s),r=0;for(s=i?s:s[Symbol.iterator]();;){var a;if("break"===e())break}},n.onChange=function(t){n.setState({current:t.target.value})},n.onSave=function(t){if(t.preventDefault(),0!==n.state.patches.length){var e=n.state.patches;e[parseInt(n.state.current)].params=n.context.params,n.save(e)}},n.onCreate=function(t){t.preventDefault();var e=prompt("Name your patch");if(null!==e&&""!==e){var s=n.state.patches;s.push({name:e,params:n.context.params}),n.save(s)}},n.onDelete=function(t){if(t.preventDefault(),!(n.state.patches.length<=1)){var e=n.state.patches.filter(function(t,e){return e!==parseInt(n.state.current)});n.save(e)}},n.onLoadDefaults=function(t){t.preventDefault(),n.loadDefaultPatches()},n.onLeftClick=function(t){t.preventDefault();var e=parseInt(n.state.current);e>0&&n.setState({current:e-1})},n.onRightClick=function(t){t.preventDefault();var e=parseInt(n.state.current);e<n.state.patches.length-1&&n.setState({current:e+1})},n.onUploadClick=function(t){t.preventDefault(),n.refs.file.click()},n.state={patches:[{name:"empty",params:f()}],current:0},n}i()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=P.reactLocalStorage.getObject("patches",[]);0===t.length?this.loadDefaultPatches():this.setState({patches:t})},n.save=function(t){P.reactLocalStorage.setObject("patches",t),this.setState({patches:t})},n.loadDefaultPatches=function(){var t=this;this.save([]);var e=new XMLHttpRequest;e.onreadystatechange=function(n){if(4===e.readyState&&200===e.status){var s=function(){if(r){if(a>=i.length)return"break";o=i[a++]}else{if((a=i.next()).done)return"break";o=a.value}var e=o,n=new XMLHttpRequest;n.responseType="arraybuffer",n.onreadystatechange=function(s){if(4===n.readyState&&200===n.status){var i=new Int8Array(n.response);t.addDmpPatch(e,i)}},n.open("GET",encodeURI("/cv2612/instruments/"+e)),n.send(null)},i=e.responseText.split(/\r?\n/).filter(function(t){return t.length>1}),r=Array.isArray(i),a=0;for(i=r?i:i[Symbol.iterator]();;){var o;if("break"===s())break}}},e.open("GET","/cv2612/instruments/index.txt"),e.send(null)},n.componentDidUpdate=function(t,e){if(e.current!==this.state.current){var n=parseInt(this.state.current),s=this.state.patches[n];s&&this.context.updateParams(s.params)}if(e.patches.length!==this.state.patches.length){this.setState({current:0});var i=this.state.patches[0];i&&this.context.updateParams(i.params)}},n.render=function(){return a.a.createElement("nav",null,a.a.createElement("a",{href:"/",title:"Previous Patch",onClick:this.onLeftClick},a.a.createElement(b.c,null)),a.a.createElement("select",{value:this.state.current,onChange:this.onChange},this.state.patches.map(function(t,e){return a.a.createElement("option",{key:e,value:e},t.name)})),a.a.createElement("a",{href:"/",title:"Next Patch",onClick:this.onRightClick},a.a.createElement(b.d,null)),a.a.createElement("a",{href:"/",title:"Save this Patch",onClick:this.onSave},a.a.createElement(b.k,null)),a.a.createElement("a",{href:"/",title:"Create new Patch",onClick:this.onCreate},a.a.createElement(b.j,null)),a.a.createElement("a",{href:"/",title:"Upload Patches",onClick:this.onUploadClick},a.a.createElement(b.n,null)),a.a.createElement("a",{href:"/",title:"Delete this Patch",onClick:this.onDelete},a.a.createElement(b.a,null)),a.a.createElement("a",{href:"/",title:"Load default Patches",onClick:this.onLoadDefaults},a.a.createElement(b.b,null)),a.a.createElement("input",{style:{display:"none"},ref:"file",type:"file",accept:".dmp",multiple:!0,onChange:this.onChangeHandler}))},e}(a.a.Component));x.contextType=y;var R=x,X=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={},n.code=e.ch+"_"+e.op,n}return i()(e,t),e.prototype.render=function(){return a.a.createElement("div",{className:"envelope"},a.a.createElement("svg",{height:"100",width:"400",viewBox:"0 0 400 100",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("polyline",{points:this.context.envelopes[this.code]})))},e}(a.a.Component);X.contextType=y,X.defaultProps={ch:6,op:4};var B=X,F=function(t){function e(e){var n;return(n=t.call(this,e)||this).onChange=function(t){t.preventDefault(),n.context.updateParam(n.code,parseInt(t.target.value)),n.context.setActiveParameter(n.code)},n.onClick=function(t){t.preventDefault(),n.context.setActiveParameter(n.code)},n.code=e.ch+"_"+e.op+"_"+e.name,n.state={},n}i()(e,t);var n=e.prototype;return n.componentWillMount=function(){var t=this.context.mapping[this.code];this.max=Math.pow(2,t.bits)-1},n.render=function(){var t=this.context.mapping[this.code],e=null!==(t.ch&&t.cc),n="slider";return this.context.learning&&(n+=" learn"),this.context.activeParameter===this.code&&(n+=" active"),e&&(n+=" mapped"),a.a.createElement("div",{className:n,onClick:this.onClick},a.a.createElement("label",null,this.props.name),a.a.createElement("input",{type:"range",step:1,min:0,max:this.max,value:this.context.params[this.code],onChange:this.onChange}),a.a.createElement("span",null,this.context.params[this.code]+(this.context.learning?e?" - "+t.ch+":"+t.cc:" - n/a":"")))},e}(a.a.Component);F.contextType=y,F.defaultProps={env:!1,ch:6,op:4};var q=F,U=function(t){function e(){return t.apply(this,arguments)||this}return i()(e,t),e.prototype.render=function(){return a.a.createElement("div",{className:"operator"},a.a.createElement("h5",null,"Op ",this.props.op+1),a.a.createElement(q,{name:"ar",ch:this.props.ch,op:this.props.op}),a.a.createElement(q,{name:"d1",ch:this.props.ch,op:this.props.op}),a.a.createElement(q,{name:"sl",ch:this.props.ch,op:this.props.op}),a.a.createElement(q,{name:"d2",ch:this.props.ch,op:this.props.op}),a.a.createElement(q,{name:"rr",ch:this.props.ch,op:this.props.op}),a.a.createElement(q,{name:"tl",ch:this.props.ch,op:this.props.op}),a.a.createElement(B,{ch:this.props.ch,op:this.props.op}),a.a.createElement(q,{name:"mul",ch:this.props.ch,op:this.props.op}),a.a.createElement(q,{name:"det",ch:this.props.ch,op:this.props.op}),a.a.createElement(q,{name:"rs",ch:this.props.ch,op:this.props.op}),a.a.createElement(q,{name:"am",ch:this.props.ch,op:this.props.op}))},e}(a.a.Component);U.contextType=y,U.defaultProps={ch:6};var j=U;var K=function(t){function e(){return t.apply(this,arguments)||this}return i()(e,t),e.prototype.render=function(){return a.a.createElement("div",{className:"channel"},a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement(q,{name:"lfo"})),a.a.createElement("td",null),a.a.createElement("td",null,a.a.createElement(q,{name:"al",ch:this.props.ch})),a.a.createElement("td",null,a.a.createElement("pre",{className:"algorithm"},function(t){switch(t){case 0:return"\n\n\n\n╔═╗ ╔═╗ ╔═╗ ╔═╗\n║1╠═╣2╠═╣3╠═╣4╠══\n╚═╝ ╚═╝ ╚═╝ ╚═╝\n\n\n\n";case 1:return"\n\n╔═╗\n║1╠═╗\n╚═╝ ║  ╔═╗  ╔═╗\n    ╠══╣3╠══╣4╠══\n╔═╗ ║  ╚═╝  ╚═╝\n║2╠═╝\n╚═╝\n\n";case 2:return"\n\n     ╔═╗\n     ║1╠═╗\n     ╚═╝ ║  ╔═╗\n         ╠══╣4╠══\n╔═╗  ╔═╗ ║  ╚═╝\n║2╠══╣3╠═╝\n╚═╝  ╚═╝\n\n";case 3:return"\n\n╔═╗  ╔═╗\n║1╠══╣2╠═╗\n╚═╝  ╚═╝ ║  ╔═╗\n         ╠══╣4╠══\n     ╔═╗ ║  ╚═╝\n     ║3╠═╝\n     ╚═╝\n\n";case 4:return"\n\n╔═╗  ╔═╗\n║1╠══╣2╠═╗\n╚═╝  ╚═╝ ║\n         ╠══\n╔═╗  ╔═╗ ║\n║3╠══╣4╠═╝\n╚═╝  ╚═╝\n\n";case 5:return"\n      ╔═╗\n    ╔═╣2╠══╗\n    ║ ╚═╝  ║\n╔═╗ ║ ╔═╗  ║\n║1╠═╬═╣3╠══╬══\n╚═╝ ║ ╚═╝  ║\n    ║ ╔═╗  ║\n    ╚═╣4╠══╝\n      ╚═╝\n";case 6:return"\n ╔═╗  ╔═╗\n ║1╠══╣2╠══╗\n ╚═╝  ╚═╝  ║\n      ╔═╗  ║\n      ║3╠══╬══\n      ╚═╝  ║\n      ╔═╗  ║\n      ║4╠══╝\n      ╚═╝\n";case 7:return"\n\n\n╔═╗ ╔═╗ ╔═╗ ╔═╗\n║1║ ║2║ ║3║ ║4║\n╚╦╝ ╚╦╝ ╚╦╝ ╚╦╝\n ╚═══╩═╦═╩═══╝\n       ║\n       ╚══\n\n";default:return"no algorithm"}}(this.context.params[this.props.ch+"_4_al"])))),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement(q,{name:"fb",ch:this.props.ch})),a.a.createElement("td",null,a.a.createElement(q,{name:"ams",ch:this.props.ch})),a.a.createElement("td",null,a.a.createElement(q,{name:"fms",ch:this.props.ch})),a.a.createElement("td",null,a.a.createElement(q,{name:"st",ch:this.props.ch})),a.a.createElement("td",null)),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement(j,{ch:this.props.ch,op:0})),a.a.createElement("td",null,a.a.createElement(j,{ch:this.props.ch,op:1})),a.a.createElement("td",null,a.a.createElement(j,{ch:this.props.ch,op:2})),a.a.createElement("td",null,a.a.createElement(j,{ch:this.props.ch,op:3}))))))},e}(a.a.Component);K.contextType=y,K.defaultProps={ch:6};var W=K,G=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).onFilterChannel=function(t){t.preventDefault();var n=parseInt(t.target.attributes.ch.value);e.context.filterChannel(n)},e}return i()(e,t),e.prototype.render=function(){var t=this,e=this.context.filters;return a.a.createElement(a.a.Fragment,null,a.a.createElement("nav",null,a.a.createElement("a",{href:"/",className:6===e.ch?"active":"",ch:6,onClick:this.onFilterChannel,title:"Show only Omni channel"},"Omni Channel"),[0,1,2,3,4,5].map(function(n){return a.a.createElement("a",{href:"/",className:e.ch===n?"active":"",key:n,ch:n,onClick:t.onFilterChannel,title:"Show only channel "+(n+1)},n+1)})),[0,1,2,3,4,5,6].map(function(t){return e.ch===t&&a.a.createElement(W,{key:t,ch:t})}))},e}(a.a.Component);G.contextType=y;var Q=G,J=function(t){function e(){return t.apply(this,arguments)||this}return i()(e,t),e.prototype.render=function(){return a.a.createElement(k,null,a.a.createElement(L,null),a.a.createElement(H,null),a.a.createElement(R,null),a.a.createElement(Q,null))},e}(a.a.Component),V=function(t){function e(){return t.apply(this,arguments)||this}return i()(e,t),e.prototype.render=function(){return a.a.createElement(l,{location:this.props.location},a.a.createElement(u.a,{title:"cv2612"}),a.a.createElement(J,null))},e}(a.a.Component);e.default=V},160:function(t,e,n){"use strict";n.d(e,"b",function(){return l});var s=n(0),i=n.n(s),r=n(4),a=n.n(r),o=n(33),h=n.n(o);n.d(e,"a",function(){return h.a}),n.d(e,"c",function(){return o.navigate});n(161);var c=i.a.createContext({}),l=function(t){return i.a.createElement(c.Consumer,null,function(e){return t.data||e[t.query]&&e[t.query].data?(t.render||t.children)(t.data?t.data.data:e[t.query].data):i.a.createElement("div",null,"Loading (StaticQuery)")})};l.propTypes={data:a.a.object,query:a.a.string.isRequired,render:a.a.func,children:a.a.func}},161:function(t,e,n){var s;t.exports=(s=n(163))&&s.default||s},162:function(t,e,n){"use strict";var s=n(166),i=n(0),r=n.n(i),a=n(4),o=n.n(a),h=n(164),c=n.n(h),l=n(160);function u(t){var e=t.description,n=t.lang,i=t.meta,a=t.keywords,o=t.title;return r.a.createElement(l.b,{query:p,render:function(t){var s=e||t.site.siteMetadata.description;return r.a.createElement(c.a,{htmlAttributes:{lang:n},title:o,titleTemplate:"%s | "+t.site.siteMetadata.title,meta:[{name:"description",content:s},{property:"og:title",content:o},{property:"og:description",content:s},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:t.site.siteMetadata.author},{name:"twitter:title",content:o},{name:"twitter:description",content:s}].concat(a.length>0?{name:"keywords",content:a.join(", ")}:[]).concat(i)})},data:s})}u.defaultProps={lang:"en",meta:[],keywords:[]},u.propTypes={description:o.a.string,lang:o.a.string,meta:o.a.array,keywords:o.a.arrayOf(o.a.string),title:o.a.string.isRequired},e.a=u;var p="1025518380"},163:function(t,e,n){"use strict";n.r(e);n(34);var s=n(0),i=n.n(s),r=n(4),a=n.n(r),o=n(55),h=n(2),c=function(t){var e=t.location,n=h.default.getResourcesForPathnameSync(e.pathname);return n?i.a.createElement(o.a,Object.assign({location:e,pageResources:n},n.json)):null};c.propTypes={location:a.a.shape({pathname:a.a.string.isRequired}).isRequired},e.default=c},165:function(t,e,n){"use strict";n(35);var s=n(7),i=n.n(s),r=n(0),a=n.n(r),o=n(160),h=n(4),c=n.n(h),l=[["i","1"],["e","3"],["o","0"],["g","6"],["a","4"]],u=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={title:e.title},n}i()(e,t);var n=e.prototype;return n.getDiff=function(){for(var t=0,e=0;e<this.props.title.length;e++)t+=this.state.title[e]===this.props.title[e]?0:1;return t},n.timer=function(){var t=Math.floor(Math.random()*l.length),e=Math.round(Math.random());this.getDiff()>3&&(e=1);var n=e?0:1;Math.random()<.5&&this.setState({title:this.state.title.replace(l[t][e],l[t][n])})},n.componentDidMount=function(){this.intervalId=setInterval(this.timer.bind(this),100)},n.componentWillUnmount=function(){clearInterval(this.intervalId)},n.render=function(){return a.a.createElement("h1",null,a.a.createElement(o.a,{to:"/"},this.state.title))},e}(a.a.Component);u.propTypes={title:c.a.string.isRequired},e.a=u},166:function(t){t.exports={data:{site:{siteMetadata:{title:"diego dorado",description:"diego dorado portfolio.",author:"Diego Dorado"}}}}}}]);
//# sourceMappingURL=component---src-pages-cv-2612-js-5d81e3d75ba89fee2a77.js.map